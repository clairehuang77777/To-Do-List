{"ast":null,"code":"import{AuthContainer,AuthInputContainer,AuthButton,AuthLinkText}from\"../components/common/auth.styled\";import{ACLogoIcon}from\"../assets/images\";import{AuthInput}from\"../components\";import{useEffect,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";// import { checkPermission, signup } from \"../api/auth\";\nimport Swal from\"sweetalert2\";import{useAuth}from\"../contexts/AuthContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SignUpPage=()=>{const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[email,setEmail]=useState(\"\");const navigate=useNavigate();const{isAuthenticated,signup}=useAuth();function handleAccountOnChange(event){setUsername(event.target.value);console.log(username);}function handlePassWordOnChange(event){setPassword(event.target.value);console.log(password);}function handleEmailOnChange(event){setEmail(event.target.value);console.log(email);}async function handleSignUpClick(){const success=await signup({username,password,email});if(success){Swal.fire({title:\"註冊成功!\",icon:\"success\",showConfirmButton:false,timer:1000,position:\"center\"});return;}else{Swal.fire({title:\"註冊失敗!\",icon:\"error\",showConfirmButton:false,timer:1000,position:\"center\"});setUsername(\"\");//清空輸入的內容\nsetPassword(\"\");//清空輸入的內容\nsetEmail(\"\");//清空輸入的內容\n}}useEffect(()=>{if(isAuthenticated){navigate(\"/todo\");}},[navigate,isAuthenticated]);return/*#__PURE__*/_jsxs(AuthContainer,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ACLogoIcon,{})}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u5EFA\\u7ACB\\u60A8\\u7684\\u5E33\\u865F\"}),/*#__PURE__*/_jsx(AuthInputContainer,{children:/*#__PURE__*/_jsx(AuthInput,{label:\"\\u5E33\\u865F\",placeholder:\"\\u8ACB\\u8F38\\u5165\\u5E33\\u865F\",type:\"text\",value:username,onChange:handleAccountOnChange})}),/*#__PURE__*/_jsx(AuthInputContainer,{children:/*#__PURE__*/_jsx(AuthInput,{label:\"Email\",placeholder:\"\\u8ACB\\u8F38\\u5165Email\",type:\"email\",value:email,onChange:handleEmailOnChange})}),/*#__PURE__*/_jsx(AuthInputContainer,{children:/*#__PURE__*/_jsx(AuthInput,{label:\"\\u5BC6\\u78BC\",placeholder:\"\\u8ACB\\u8F38\\u5165\\u5BC6\\u78BC\",type:\"password\",value:password,onChange:handlePassWordOnChange})}),/*#__PURE__*/_jsx(AuthButton,{onClick:handleSignUpClick,children:\"\\u8A3B\\u518A\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(AuthLinkText,{children:\"\\u53D6\\u6D88\"})})]});};export default SignUpPage;","map":{"version":3,"names":["AuthContainer","AuthInputContainer","AuthButton","AuthLinkText","ACLogoIcon","AuthInput","useEffect","useState","Link","useNavigate","Swal","useAuth","jsx","_jsx","jsxs","_jsxs","SignUpPage","username","setUsername","password","setPassword","email","setEmail","navigate","isAuthenticated","signup","handleAccountOnChange","event","target","value","console","log","handlePassWordOnChange","handleEmailOnChange","handleSignUpClick","success","fire","title","icon","showConfirmButton","timer","position","children","label","placeholder","type","onChange","onClick","to"],"sources":["/Users/huang/todolist-react-starter/src/pages/SignUpPage.jsx"],"sourcesContent":["import {\n  AuthContainer,\n  AuthInputContainer,\n  AuthButton,\n  AuthLinkText,\n} from \"../components/common/auth.styled\";\nimport { ACLogoIcon } from \"../assets/images\";\nimport { AuthInput } from \"../components\";\nimport { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\n// import { checkPermission, signup } from \"../api/auth\";\nimport Swal from \"sweetalert2\";\nimport { useAuth } from \"../contexts/AuthContext\";\n\nconst SignUpPage = () => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] =useState(\"\")\n  const navigate = useNavigate()\n  const { isAuthenticated, signup } = useAuth();\n\n  function handleAccountOnChange(event) {\n    setUsername(event.target.value);\n    console.log(username);\n  }\n  function handlePassWordOnChange(event) {\n    setPassword(event.target.value);\n    console.log(password);\n  }\n\n  function handleEmailOnChange(event){\n    setEmail(event.target.value)\n    console.log(email)\n  }\n\n  async function handleSignUpClick(){\n    const success = await signup({ username, password, email });\n\n    if (success) {\n      Swal.fire({\n        title: \"註冊成功!\",\n        icon: \"success\",\n        showConfirmButton: false,\n        timer: 1000,\n        position: \"center\",\n      });\n      return;\n    } else {\n      Swal.fire({\n        title: \"註冊失敗!\",\n        icon: \"error\",\n        showConfirmButton: false,\n        timer: 1000,\n        position: \"center\",\n      });\n      setUsername(\"\"); //清空輸入的內容\n      setPassword(\"\"); //清空輸入的內容\n      setEmail(\"\"); //清空輸入的內容\n    }\n  }\n\n  useEffect(() => {\n      if(isAuthenticated){\n        navigate(\"/todo\")\n      } \n  },[navigate,isAuthenticated]);\n\n  return (\n    <AuthContainer>\n      <div>\n        <ACLogoIcon />\n      </div>\n      <h1>建立您的帳號</h1>\n\n      <AuthInputContainer>\n        <AuthInput\n          label=\"帳號\"\n          placeholder=\"請輸入帳號\"\n          type=\"text\"\n          value={username}\n          onChange={handleAccountOnChange}\n        />\n      </AuthInputContainer>\n\n      <AuthInputContainer>\n        <AuthInput\n          label=\"Email\"\n          placeholder=\"請輸入Email\"\n          type=\"email\"\n          value={email}\n          onChange={handleEmailOnChange}\n        />\n      </AuthInputContainer>\n\n      <AuthInputContainer>\n        <AuthInput\n          label=\"密碼\"\n          placeholder=\"請輸入密碼\"\n          type=\"password\"\n          value={password}\n          onChange={handlePassWordOnChange}\n        />\n      </AuthInputContainer>\n      <AuthButton\n        onClick={handleSignUpClick}>註冊</AuthButton>\n      \n      <Link to=\"/login\">\n        <AuthLinkText>\n          取消\n        </AuthLinkText>\n      </Link>\n    </AuthContainer>\n  );\n};\n\nexport default SignUpPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}