{"ast":null,"code":"var _jsxFileName = \"/Users/huang/todolist-react-starter/src/pages/TodoPage.jsx\",\n  _s = $RefreshSig$();\nimport { Footer, Header, TodoCollection, TodoInput } from 'components';\nimport { useState } from 'react';\n\n// eslint-disable-next-line no-unused-vars\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst dummyTodos = [{\n  title: 'Learn react-router',\n  isDone: true,\n  id: 1\n}, {\n  title: 'Learn to create custom hooks',\n  isDone: false,\n  id: 2\n}, {\n  title: 'Learn to use context',\n  isDone: true,\n  id: 3\n}, {\n  title: 'Learn to implement auth',\n  isDone: false,\n  id: 4\n}];\nconst TodoPage = () => {\n  _s();\n  const [inputValue, setInputValue] = useState('');\n  const [todos, setTodos] = useState(dummyTodos);\n  function handleChange(e) {\n    setInputValue(e.target.value);\n    console.log(inputValue);\n  }\n  function handleAddToDoClick() {\n    if (inputValue.length === 0) {\n      return;\n    }\n    setTodos(prevTodos => {\n      return [...prevTodos, {\n        title: inputValue,\n        isDone: false,\n        id: Math.random() * 100\n      }];\n    });\n    setInputValue('');\n  }\n  function handleOnKeyDown() {\n    if (inputValue.length === 0) {\n      return;\n    }\n    setTodos(prevTodos => {\n      return [...prevTodos, {\n        title: inputValue,\n        isDone: false,\n        id: Math.random() * 100\n      }];\n    });\n    setInputValue('');\n  }\n  function handleToggleDone(id) {\n    setTodos(prevTodos => {\n      return prevTodos.map(item => item.id === id ? {\n        ...item,\n        isDone: !item.isDone\n      } : item);\n    });\n  }\n  function handleChangeMode({\n    id,\n    isEdit\n  }) {\n    setTodos(prevTodos => {\n      return prevTodos.map(todo => {\n        if (todo.id === id) {\n          console.log(`Todo with ID ${id} is now editable.`);\n          return {\n            ...todo,\n            isEdit\n          };\n        }\n        return {\n          ...todo,\n          isEdit: false\n        };\n      });\n    });\n  }\n  function handleSave({\n    id,\n    title\n  }) {\n    setTodos(prevTodos => {\n      return prevTodos.map(todo => {\n        if (todo.id === id) {\n          return {\n            ...todo,\n            title,\n            isEdit: false\n          };\n        }\n        return {\n          ...todo\n        };\n      });\n    });\n  }\n  function handleDelete(id) {\n    setTodos(prevtodos => {\n      return prevtodos.filter(item => {\n        if (item.id !== id) {\n          return {\n            ...item\n          };\n        }\n      });\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"TodoPage\", /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(TodoInput, {\n      inputValue: inputValue,\n      onChange: handleChange,\n      onAddTodo: handleAddToDoClick,\n      onKeyDown: handleOnKeyDown\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(TodoCollection, {\n      todos: todos,\n      onToggleDone: handleToggleDone,\n      onChangeMode: handleChangeMode // 确保正确传入函数\n      ,\n      onSave: handleSave,\n      onDelete: handleDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {\n      todos: todos\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 3\n  }, this);\n};\n_s(TodoPage, \"HHfhE/1InCgxFv1ppRPuGEq9RS8=\");\n_c = TodoPage;\nexport default TodoPage;\nvar _c;\n$RefreshReg$(_c, \"TodoPage\");","map":{"version":3,"names":["Footer","Header","TodoCollection","TodoInput","useState","jsxDEV","_jsxDEV","dummyTodos","title","isDone","id","TodoPage","_s","inputValue","setInputValue","todos","setTodos","handleChange","e","target","value","console","log","handleAddToDoClick","length","prevTodos","Math","random","handleOnKeyDown","handleToggleDone","map","item","handleChangeMode","isEdit","todo","handleSave","handleDelete","prevtodos","filter","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","onAddTodo","onKeyDown","onToggleDone","onChangeMode","onSave","onDelete","_c","$RefreshReg$"],"sources":["/Users/huang/todolist-react-starter/src/pages/TodoPage.jsx"],"sourcesContent":["import { Footer, Header, TodoCollection, TodoInput } from 'components';\nimport { useState } from 'react';\n\n// eslint-disable-next-line no-unused-vars\n\nconst dummyTodos = [\n  {\n    title: 'Learn react-router',\n    isDone: true,\n    id: 1,\n  },\n  {\n    title: 'Learn to create custom hooks',\n    isDone: false,\n    id: 2,\n  },\n  {\n    title: 'Learn to use context',\n    isDone: true,\n    id: 3,\n  },\n  {\n    title: 'Learn to implement auth',\n    isDone: false,\n    id: 4,\n  },\n];\n\n\nconst TodoPage = () => {\n  const [inputValue, setInputValue] = useState('')\n  const [todos, setTodos] = useState(dummyTodos);\n\n  function handleChange(e){\n    setInputValue(e.target.value)\n    console.log(inputValue)\n  }\n\n  function handleAddToDoClick(){\n    if (inputValue.length === 0){\n      return ;\n    }\n    \n    setTodos((prevTodos) => {\n    return [\n     ...prevTodos,\n     {\n      title:inputValue,\n      isDone:false,\n      id:Math.random()*100\n     } \n    ]}\n  )\n\n    setInputValue('')\n  }\n\n  function handleOnKeyDown(){\n    if (inputValue.length === 0) {\n      return;\n    }\n\n    setTodos((prevTodos) => {\n      return [\n        ...prevTodos,\n        {\n          title: inputValue,\n          isDone: false,\n          id: Math.random() * 100,\n        },\n      ];\n    });\n\n    setInputValue('');\n  }\n\n  function handleToggleDone(id){\n    setTodos((prevTodos) => {\n      return prevTodos.map((item) =>\n        item.id === id ? \n        { ...item, \n          isDone: !item.isDone } : \n          item,\n      );\n     })\n  }\n\n  function handleChangeMode({ id, isEdit }){\n    setTodos((prevTodos) => {\n      return prevTodos.map(todo => {\n        if (todo.id === id) {\n          console.log(`Todo with ID ${id} is now editable.`);\n          return { ...todo, isEdit };\n        }\n        return { ...todo, isEdit: false };\n      });\n    });\n  }\n\n  function handleSave({id, title}){\n    setTodos((prevTodos) => {\n      return prevTodos.map(todo => {\n          if (todo.id === id) {\n            return {\n              ...todo,\n              title,\n              isEdit: false,\n            };\n          }\n          return {\n            ...todo,\n          };\n        })\n      })}\n\n  function handleDelete(id){\n    setTodos((prevtodos)=> {\n      return prevtodos.filter((item) => {\n        if(item.id !== id){\n          return {\n            ...item\n          }\n        }\n      })\n  })\n}\n\nreturn (\n  <div>\n    TodoPage\n    <Header />\n    <TodoInput\n      inputValue={inputValue}\n      onChange={handleChange}\n      onAddTodo={handleAddToDoClick}\n      onKeyDown={handleOnKeyDown}\n    />\n    <TodoCollection\n      todos={todos}\n      onToggleDone={handleToggleDone}\n      onChangeMode={handleChangeMode} // 确保正确传入函数\n      onSave={handleSave}\n      onDelete={handleDelete}\n    />\n    <Footer todos={todos}/>\n  </div>\n)\n}\n\nexport default TodoPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}